!function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){(function(t){e.exports=t.DraggableEl=o(2)}).call(this,o(1))},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t){const o=function(){let e=0;const t=[];return class{constructor({dragButton:o,dragEl:n=o,mouseMoveTarget:s=document,mouseUpTarget:u=document,mouseLeaveTarget:r=document,mouseDownStartCb:i=function(){},mouseDownEndCb:a=function(){},mouseMoveStartCb:l=function(){},mouseMoveEndCb:m=function(){},mouseUpStartCb:c=function(){},mouseUpEndCb:d=function(){},mouseLeaveStartCb:h=function(){},mouseLeaveEndCb:b=function(){},containerRect:v=n.parentNode,isLeftTop:p=!1,isMouseLeaveOn:f=!1}){Object.assign(this,{dragButton:o,dragEl:n,mouseMoveTarget:s,mouseUpTarget:u,mouseLeaveTarget:r,containerRect:v,isLeftTop:p,isMouseLeaveOn:f}),this.callback={mouseDownStartCb:i,mouseDownEndCb:a,mouseMoveStartCb:l,mouseMoveEndCb:m,mouseUpStartCb:c,mouseUpEndCb:d,mouseLeaveStartCb:h,mouseLeaveEndCb:b},this.mouseDownCbBind=this.mouseDownCb.bind(this),this.mouseMoveCbBind=this.mouseMoveCb.bind(this),this.mouseUpCbBind=this.mouseUpCb.bind(this),this.dragButton.addEventListener("mousedown",this.mouseDownCbBind),this.warnIllegalMouseLeave(),this.id=e++,t.push(this)}mouseDownCb(e){this.callback.mouseDownStartCb.call(this,e),0===e.button&&(this.hasRendered=!0,this.prevMouseMoveEvent=e,this.mouseMoveTarget.addEventListener("mousemove",this.mouseMoveCbBind),this.mouseUpTarget.addEventListener("mouseup",this.mouseUpCbBind),this.isMouseLeaveOn&&this.mouseLeaveTarget.addEventListener("mouseleave",this.mouseUpCbBind),this.callback.mouseDownEndCb.call(this,e))}mouseMoveCb(e){this.callback.mouseMoveStartCb.call(this,e),!1!==this.hasRendered&&(requestAnimationFrame(()=>{this.mouseMoveCalc(e),this.hasRendered=!0,this.callback.mouseMoveEndCb.call(this,e)}),this.hasRendered=!1)}mouseMoveCalc(e){let t={x:e.clientX-this.prevMouseMoveEvent.clientX,y:e.clientY-this.prevMouseMoveEvent.clientY},o=this.correctOffsetInContainer(t);this.setCurPos(o),this.prevMouseMoveEvent=e}correctOffsetInContainer(e){let t=this.dragEl.getBoundingClientRect(),o="function"==typeof this.containerRect.getBoundingClientRect?this.containerRect.getBoundingClientRect():this.containerRect,n=t.left+e.x<o.left,s=t.right+e.x>o.right,u=t.top+e.y<o.top,r=t.bottom+e.y>o.bottom;return n?e.x=o.left-t.left:s&&(e.x=o.right-t.right),u?e.y=o.top-t.top:r&&(e.y=o.bottom-t.bottom),e}setCurPos(e){let t,o=window.getComputedStyle(this.dragEl);t=!0===this.isLeftTop?this.setCurLeftTop(o,e):this.setCurTransform(o,e),this.dragEl.setAttribute("data-x",t.x),this.dragEl.setAttribute("data-y",t.y)}setCurLeftTop(e,t){let o=e.getPropertyValue("left"),n=e.getPropertyValue("top");return o=Number.parseFloat(o)+Number(t.x),n=Number.parseFloat(n)+Number(t.y),this.dragEl.style.left=o+"px",this.dragEl.style.top=n+"px",{x:o,y:n}}setCurTransform(e,t){let o=e.getPropertyValue("transform").match(/\d+/g),[n,s]=o?o.slice(-2):[0,0];return n=Number(n)+Number(t.x),s=Number(s)+Number(t.y),this.dragEl.style.transform=`translate(${n}px,${s}px)`,{x:n,y:s}}mouseUpCb(e){this.callback.mouseUpStartCb.call(this,e),this.mouseMoveTarget.removeEventListener("mousemove",this.mouseMoveCbBind),this.mouseUpTarget.removeEventListener("mouseup",this.mouseUpCbBind),this.isMouseLeaveOn&&this.mouseLeaveTarget.removeEventListener("mouseleave",this.mouseUpCbBind),this.callback.mouseUpEndCb.call(this,e)}destroy(){this.dragButton.removeEventListener("mousedown",this.mouseDownCbBind);let e=t.findIndex(e=>e.id===this.id);return e>=0&&!!t.splice(e,1)}destroyAll(){for(;0!==t.length;){let e=t[0];e.dragButton.removeEventListener("mousedown",e.mouseDownCbBind)}}warnIllegalMouseLeave(){let e=!0===[window,document,document.documentElement].includes(this.mouseUpTarget);e&&!0===this.isMouseLeaveOn&&console.warn("You don't have to listen mouseleave event because your mouseUpTarget is in [window, document, document.documentElement]. In this case, mouseup event would be caught even you release your right button out of document or window."),e||!1!==this.isMouseLeaveOn||console.warn("You had better turn on isMouseLeaveOn and mouseLeaveTarget because your mouseUpTarget is not in [window, document, document.documentElement]. In this case, mouseup event won't be caught when user release the right button out of document or window. In this case, mouseleave would catch it.")}}}();e.exports=o}]);